---
// パートナーロゴデータ
const topRowLogos = [
  { name: "企業ロゴ1", logoSrc: null }, // 将来的に実際のロゴパスに置き換え
  { name: "企業ロゴ2", logoSrc: null },
  { name: "企業ロゴ3", logoSrc: null },
  { name: "企業ロゴ4", logoSrc: null },
  { name: "企業ロゴ5", logoSrc: null },
  { name: "企業ロゴ6", logoSrc: null }
];

const bottomRowLogos = [
  { name: "企業ロゴ7", logoSrc: null },
  { name: "企業ロゴ8", logoSrc: null },
  { name: "企業ロゴ9", logoSrc: null },
  { name: "企業ロゴ10", logoSrc: null },
  { name: "企業ロゴ11", logoSrc: null },
  { name: "企業ロゴ12", logoSrc: null }
];

// コンテンツデータ
const content = {
  title: "ご協力いただいている皆さま",
  titleBreak: "皆さま",
  subtitle: "Partners Supporting Our Mission",
  description: "むなかた子ども大学は、多くの大学・企業・団体等の皆さまのご協力によって支えられています。<br>子どもたちの未来のために、本物の学びと体験を提供してくださる皆さまに心より感謝申し上げます。"
};
---

<section class="partners">
  <div class="partners__header">
    <h2 class="partners__title">ご協力いただいている<span class="partners__title-break">{content.titleBreak}</span></h2>
    <h3 class="partners__subtitle">{content.subtitle}</h3>
  </div>
  
  <p class="partners__description" set:html={content.description}></p>

  <div class="partners__slider">
    <!-- 上段：左から右へスクロール -->
    <div class="partners__track partners__track--top">
      {topRowLogos.map((logo) => (
        <div class="partner-logo">
          {logo.logoSrc ? (
            <img src={logo.logoSrc} alt={logo.name} class="partner-logo__image" />
          ) : (
            <div class="partner-logo__placeholder">{logo.name}</div>
          )}
        </div>
      ))}
      <!-- 無限ループ用の複製 -->
      {topRowLogos.map((logo) => (
        <div class="partner-logo">
          {logo.logoSrc ? (
            <img src={logo.logoSrc} alt={logo.name} class="partner-logo__image" />
          ) : (
            <div class="partner-logo__placeholder">{logo.name}</div>
          )}
        </div>
      ))}
    </div>

    <!-- 下段：右から左へスクロール -->
    <div class="partners__track partners__track--bottom">
      {bottomRowLogos.map((logo) => (
        <div class="partner-logo">
          {logo.logoSrc ? (
            <img src={logo.logoSrc} alt={logo.name} class="partner-logo__image" />
          ) : (
            <div class="partner-logo__placeholder">{logo.name}</div>
          )}
        </div>
      ))}
      <!-- 無限ループ用の複製 -->
      {bottomRowLogos.map((logo) => (
        <div class="partner-logo">
          {logo.logoSrc ? (
            <img src={logo.logoSrc} alt={logo.name} class="partner-logo__image" />
          ) : (
            <div class="partner-logo__placeholder">{logo.name}</div>
          )}
        </div>
      ))}
    </div>
  </div>
</section>

<style lang="scss">
@import '../../styles/_index';

/* ご協力いただいている団体さま セクション */
.partners {
  @include container;
  background-color: $background-primary;
  padding-top: rem(80);
  padding-bottom: rem(80);
  position: relative;
  border-top-left-radius: rem(30);
  border-bottom-right-radius: rem(30);
  
  @include breakpoint-up(md) {
    padding-top: rem(100);
    padding-bottom: rem(100);
    border-top-left-radius: rem(60);
    border-bottom-right-radius: rem(60);
  }
  
  @include breakpoint-up(lg) {
    padding-top: rem(120);
    padding-bottom: rem(120);
    border-top-left-radius: rem(72);
    border-bottom-right-radius: rem(72);
  }

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, $background-quaternary 50%, $background-secondary 50%);
    z-index: -1;
  }

  &__header {
    text-align: center;
    margin-bottom: rem(64);
    
    @include breakpoint-up(md) {
      margin-bottom: rem(80);
    }
  }

  &__title {
    @include font-ja-l(semibold);
    margin-bottom: 0;
    margin-top: rem(10);
    
    @include breakpoint-up(lg) {
      @include font-ja-2l(semibold);
    }
  }

  &__title-break {
    @include breakpoint-down(sm) {
      display: block;
    }
  }

  &__subtitle {
    @include font-ja-2s(semibold);
    color: $text-secondary;
    margin: 0;
    letter-spacing: 1px;
    
    @include breakpoint-up(lg) {
      @include font-ja-s(semibold);
    }
  }

  &__description {
    @include font-ja-s;
    color: $text-primary;
    line-height: 1.6;
    max-width: rem(800);
    margin: 0 auto 0;
    text-align: left;
    
    @include breakpoint-up(md) {
      margin-top: rem(32);
    }
    
    @include breakpoint-up(lg) {
      text-align: center;
    }
  }

  &__slider {
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
    gap: rem(32);
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    margin-top: rem(70);
  }

  &__track {
    display: flex;
    width: calc(200% + rem(40)); // 2倍の幅で無限ループ
    
    &--top {
      animation: slideHorizontalLeft 30s linear infinite;
    }
    
    &--bottom {
      animation: slideHorizontalRight 30s linear infinite;
    }
  }
}

.partner-logo {
  flex: 0 0 rem(200);
  height: rem(40);
  margin-right: rem(40);
  display: flex;
  align-items: center;
  justify-content: center;
  filter: grayscale(100%);
  opacity: 0.7;
  transition: all 0.3s ease;
  
  @include breakpoint-up(md) {
    // flex: 0 0 rem(240);
    // height: rem(120);
    // margin-right: rem(48);
  }
  
  &:hover {
    filter: grayscale(0%);
    opacity: 1;
    transform: scale(1.05);
  }

  &__image {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  &__placeholder {
    width: 100%;
    height: 100%;
    background: $background-secondary;
    border: 2px solid $border-secondary;
    @include radius-m;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: rem(14);
    color: $text-tertiary;
    font-weight: 500;
    
    @include breakpoint-up(md) {
      font-size: rem(16);
    }
  }
}

// 横スライダーのアニメーション（左から右へ）
@keyframes slideHorizontalLeft {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%); // 半分移動すると元の位置に戻る（無限ループ効果）
  }
}

// 横スライダーのアニメーション（右から左へ）
@keyframes slideHorizontalRight {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0); // 逆方向のスクロール
  }
}
</style>