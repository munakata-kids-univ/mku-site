---
import BaseLayout from '../../layouts/BaseLayout.astro';
import HeroSection from '../../components/HeroSection.astro';
import Breadcrumb from '../../components/Breadcrumb.astro';
import ContentSectionHeader from '../../components/ContentSectionHeader.astro';
import { 
  getGlobalSettings, 
  getMainCampusSettings,
  getMainCampusCourses,
  getSpecialCourses,
  getMkuDays,
  getSummerCourses
} from '../../lib/microcms';
import { convertUTCToJST, extractJSTDateParts } from '../../utils/dateUtils';

// ãƒ‡ãƒ¼ã‚¿å–å¾—
const globalSettings = await getGlobalSettings();
const currentYear = Array.isArray(globalSettings.currentYear) 
  ? globalSettings.currentYear[0] 
  : globalSettings.currentYear;

// å¹´åº¦ã‚³ãƒ¼ãƒ‰ã‚’æŠ½å‡ºï¼ˆé…åˆ—ã®å ´åˆã¯æœ€åˆã®è¦ç´ ã‚’å–å¾—ï¼‰
const yearCode = Array.isArray(currentYear) ? currentYear[0] : currentYear;


// ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é–¢é€£ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
const [mainCampusSettings, mainCampusCourses, specialCourses, mkuDays, summerCourses] = await Promise.all([
  getMainCampusSettings(),
  getMainCampusCourses(yearCode), // valueã‚’ä½¿ç”¨
  getSpecialCourses(yearCode), // å¹´åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ 
  getMkuDays(yearCode), // å¹´åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ 
  getSummerCourses(yearCode) // å¹´åº¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¯¾å¿œæ¸ˆã¿
]);

// ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æƒ…å ±ã‚’æœˆåˆ¥ã«æ•´ç†
interface ScheduleEvent {
  date: string;
  course: string;
  target: string | string[];
}

interface ScheduleItem {
  month: number;
  events: ScheduleEvent[];
}

// æ—¥ä»˜ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆ
interface GroupedEvent {
  date: string;
  events: Array<{
    course: string;
    target: string | string[];
  }>;
}

// è¡¨ç¤ºç”¨ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±
interface DisplayEvent {
  date: string;
  course: string;
  target: string | string[];
  isFirstOfDate: boolean;
  isFirstOfMonth: boolean;
  dateRowspan: number;
  monthRowspan: number;
}

function parseDate(utcDateString: string): Date | null {
  if (!utcDateString) return null;
  try {
    // UTCæ—¥ä»˜æ–‡å­—åˆ—ã‚’JSTã«å¤‰æ›
    return convertUTCToJST(utcDateString);
  } catch {
    return null;
  }
}

function formatDateForDisplay(jstDate: Date): string {
  // JSTå¤‰æ›æ¸ˆã¿ã®Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰UTCæ™‚åˆ»ã¨ã—ã¦æ—¥ä»˜éƒ¨åˆ†ã‚’å–å¾—
  // ï¼ˆæ—¢ã«JSTã«å¤‰æ›æ¸ˆã¿ãªã®ã§ã€getUTCXXXãƒ¡ã‚½ãƒƒãƒ‰ã§JSTã®æ—¥ä»˜ãŒå–å¾—ã•ã‚Œã‚‹ï¼‰
  const day = jstDate.getUTCDate();
  const dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
  const dayOfWeek = dayNames[jstDate.getUTCDay()];
  return `${day}æ—¥(${dayOfWeek})`;
}

function getCourseClass(courseName: string): string {
  if (courseName === 'ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹') return 'main-campus';
  if (courseName.includes('ç‰¹è¨­è¬›åº§')) return 'special-course';
  if (courseName === 'ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥') return 'mku-day';
  if (courseName.includes('å¤ã®èª²å¤–æˆæ¥­')) return 'summer-course';
  return 'main-campus'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
}

function getGradeColorClass(grade: string): string {
  // ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥ï¼ˆå­¦æ ¡åï¼‰ã®å ´åˆ
  if (grade.includes('å°å­¦æ ¡') || grade.includes('ä¸­å­¦æ ¡') || grade.includes('å­¦æ ¡') || grade.includes('å­¦åœ’')) {
    return 'mku-day';
  }
  
  // ç‰¹æ®Šãªã‚±ãƒ¼ã‚¹
  if (grade === 'æœªå°±å­¦å…' || grade === 'ã ã‚Œã§ã‚‚' || grade.includes('ãã®ä»–')) {
    return 'special';
  }
  
  // æ•°å­—ã‚’æŠ½å‡º
  const yearMatch = grade.match(/^(\d+)å¹´$/);
  if (yearMatch) {
    const num = parseInt(yearMatch[1]);
    if (num >= 1 && num <= 3) return 'elementary-low';    // 1~3å¹´
    if (num >= 4 && num <= 6) return 'elementary-high';   // 4~6å¹´
    if (num >= 7 && num <= 9) return 'junior';            // 7~9å¹´
  }
  
  // é«˜æ ¡ç”Ÿ
  if (grade.match(/^é«˜\d+$/)) {
    return 'junior'; // é«˜æ ¡ç”Ÿã¯ä¸­å­¦ç”Ÿã¨åŒã˜è‰²
  }
  
  // ãã®ä»–
  return 'special';
}

function formatTargetGrades(targetGrades: string | string[]): { sortedGrades: string[]; htmlString: string } {
  const grades = Array.isArray(targetGrades) ? targetGrades : [targetGrades];
  
  // å­¦å¹´ã®è¡¨ç¤ºé †ã‚’æ±ºã‚ã‚‹é–¢æ•°
  function getGradeOrder(grade: string): number {
    // æœªå°±å­¦å…ã¯æœ€åˆ
    if (grade === 'æœªå°±å­¦å…') {
      return 0;
    }
    
    // 1å¹´ï½9å¹´ï¼ˆå°ä¸­å­¦æ ¡ï¼‰
    const elementaryJuniorMatch = grade.match(/^(\d+)å¹´$/);
    if (elementaryJuniorMatch) {
      const num = parseInt(elementaryJuniorMatch[1]);
      if (num >= 1 && num <= 9) {
        return num; // 1ï½9ã®é †åº
      }
    }
    
    // é«˜1ï½é«˜3ï¼ˆé«˜æ ¡ï¼‰
    const highSchoolMatch = grade.match(/^é«˜(\d+)$/);
    if (highSchoolMatch) {
      const num = parseInt(highSchoolMatch[1]);
      if (num >= 1 && num <= 3) {
        return 10 + num; // 11ï½13ã®é †åºï¼ˆ10 + 1ï½3ï¼‰
      }
    }
    
    // ãã®ä»–ã¯æœ€å¾Œ
    return 999;
  }
  
  // å­¦å¹´ã‚’æŒ‡å®šã•ã‚ŒãŸé †åºã§ã‚½ãƒ¼ãƒˆ
  const sortedGrades = grades.sort((a, b) => {
    return getGradeOrder(a) - getGradeOrder(b);
  });
  
  return {
    sortedGrades,
    htmlString: sortedGrades.join('ãƒ»') // å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚
  };
}

// å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
const scheduleData: ScheduleItem[] = [];

// æœˆåˆ¥ã«åˆæœŸåŒ–ï¼ˆ4æœˆã€œ3æœˆï¼‰
for (let i = 0; i < 12; i++) {
  const month = (i + 4) % 12 || 12; // 4æœˆã‹ã‚‰å§‹ã¾ã£ã¦3æœˆã§çµ‚ã‚ã‚‹
  scheduleData.push({
    month,
    events: []
  });
}

// ãƒ‡ãƒãƒƒã‚°æƒ…å ±ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
console.log('mainCampusCourses:', mainCampusCourses);
console.log('mainCampusCourses length:', mainCampusCourses?.length);

// ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã®å¯¾è±¡å­¦å¹´ã‚’ã¾ã¨ã‚ã¦æº–å‚™ï¼ˆé…åˆ—å½¢å¼ï¼‰
let mainCampusTargetGrades = ['å¯¾è±¡å­¦å¹´æœªè¨­å®š'];
if (mainCampusCourses && mainCampusCourses.length > 0) {
  console.log('=== ä»¤å’Œ6å¹´åº¦ ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã‚³ãƒ¼ã‚¹è©³ç´° ===');
  console.log('å–å¾—ã•ã‚ŒãŸã‚³ãƒ¼ã‚¹æ•°:', mainCampusCourses.length);
  
  // å…¨ã‚³ãƒ¼ã‚¹ã®targetGradesã‚’åé›†ã—ã¦é‡è¤‡ã‚’é™¤å»
  const allTargetGrades = mainCampusCourses
    .map((course, index) => {
      console.log(`ã‚³ãƒ¼ã‚¹${index + 1}:`, course.title);
      console.log('  - year:', course.year);
      console.log('  - targetGrades:', course.targetGrades);
      console.log('  - targetGrades type:', typeof course.targetGrades);
      console.log('  - targetGrades array?:', Array.isArray(course.targetGrades));
      return course.targetGrades;
    })
    .flat()
    // undefinedã‚„nullã‚’é™¤å»
    .filter(grade => grade !== undefined && grade !== null)
    .filter((grade, index, self) => self.indexOf(grade) === index);
  
  console.log('=== åé›†çµæœ ===');
  console.log('allTargetGrades:', allTargetGrades);
  console.log('allTargetGrades length:', allTargetGrades.length);
  
  const formattedGrades = formatTargetGrades(allTargetGrades);
  // é…åˆ—å½¢å¼ã§å¯¾è±¡å­¦å¹´ã¨æ³¨è¨˜ã‚’åˆ†ã‘ã¦æ ¼ç´
  mainCampusTargetGrades = [...formattedGrades.sortedGrades, 'â€»2æ¬¡å‹Ÿé›†ã¯å¸‚å¤–ã«ãŠä½ã¾ã„ã®æ–¹ã‚‚å‚åŠ å¯'];
  console.log('æœ€çµ‚è¡¨ç¤º:', mainCampusTargetGrades);
}

// ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹è¨­å®šã‹ã‚‰å®Ÿæ–½æ—¥ã‚’è¿½åŠ 
if (mainCampusSettings?.executedDate) {
  mainCampusSettings.executedDate.forEach(item => {
    const itemYear = Array.isArray(item.year) ? item.year[0] : item.year;
    if (itemYear === yearCode && item.date) {
      const executedDate = parseDate(item.date);
      if (executedDate) {
        const month = executedDate.getUTCMonth() + 1;
        const monthIndex = scheduleData.findIndex(scheduleItem => scheduleItem.month === month);
        if (monthIndex !== -1) {
          scheduleData[monthIndex].events.push({
            date: formatDateForDisplay(executedDate),
            course: 'ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹',
            target: mainCampusTargetGrades // æ—¢ã«é…åˆ—å½¢å¼
          });
        }
      }
    }
  });
}

// ç‰¹è¨­è¬›åº§ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æƒ…å ±ã‚’è¿½åŠ 
if (specialCourses && specialCourses.length > 0) {
  console.log('=== ç‰¹è¨­è¬›åº§ãƒ‡ãƒ¼ã‚¿ ===');
  console.log('å–å¾—ã•ã‚ŒãŸç‰¹è¨­è¬›åº§æ•°:', specialCourses.length);
  
  specialCourses.forEach((course, index) => {
    console.log(`ç‰¹è¨­è¬›åº§${index + 1}:`, course.title);
    console.log('  - year:', course.year);
    console.log('  - targetGrades:', course.targetGrades);
    console.log('  - executedDate:', course.executedDate);
    
    // å¹´åº¦ãƒã‚§ãƒƒã‚¯
    const courseYear = Array.isArray(course.year) ? course.year[0] : course.year;
    if (courseYear === yearCode && course.executedDate) {
      const courseDate = parseDate(course.executedDate);
      if (courseDate) {
        const month = courseDate.getUTCMonth() + 1;
        const monthIndex = scheduleData.findIndex(scheduleItem => scheduleItem.month === month);
        if (monthIndex !== -1) {
          // å¯¾è±¡å­¦å¹´ã®å‡¦ç†
          const targetGrades = Array.isArray(course.targetGrades) ? course.targetGrades : [course.targetGrades];
          
          scheduleData[monthIndex].events.push({
            date: formatDateForDisplay(courseDate),
            course: `ç‰¹è¨­è¬›åº§ã€Œ${course.title}ã€`,
            target: targetGrades
          });
        }
      }
    }
  });
}

// ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æƒ…å ±ã‚’è¿½åŠ 
if (mkuDays && mkuDays.length > 0) {
  console.log('=== ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥ãƒ‡ãƒ¼ã‚¿ ===');
  console.log('å–å¾—ã•ã‚ŒãŸã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥æ•°:', mkuDays.length);
  
  // æ—¥ä»˜ã”ã¨ã«å­¦æ ¡ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
  const mkuDaysByDate = new Map<string, string[]>();
  
  mkuDays.forEach((mkuDay, index) => {
    console.log(`ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥${index + 1}:`, mkuDay.schoolName?.name);
    console.log('  - year:', mkuDay.year);
    console.log('  - eventDates:', mkuDay.eventDates);
    console.log('  - schoolName:', mkuDay.schoolName);
    
    // å¹´åº¦ãƒã‚§ãƒƒã‚¯
    const mkuDayYear = Array.isArray(mkuDay.year) ? mkuDay.year[0] : mkuDay.year;
    if (mkuDayYear === yearCode && mkuDay.eventDates) {
      // å„å®Ÿæ–½æ—¥ã«å¯¾ã—ã¦å­¦æ ¡åã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
      mkuDay.eventDates.forEach(eventDate => {
        if (eventDate.date) {
          const dateKey = eventDate.date;
          const schoolName = mkuDay.schoolName?.name || 'å­¦æ ¡åæœªè¨­å®š';
          
          if (!mkuDaysByDate.has(dateKey)) {
            mkuDaysByDate.set(dateKey, []);
          }
          mkuDaysByDate.get(dateKey)!.push(schoolName);
        }
      });
    }
  });
  
  // ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸæ—¥ä»˜ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¨ãƒ³ãƒˆãƒªã‚’ä½œæˆ
  mkuDaysByDate.forEach((schools, dateKey) => {
    const mkuDayDate = parseDate(dateKey);
    if (mkuDayDate) {
      const month = mkuDayDate.getUTCMonth() + 1;
      const monthIndex = scheduleData.findIndex(scheduleItem => scheduleItem.month === month);
      if (monthIndex !== -1) {
        scheduleData[monthIndex].events.push({
          date: formatDateForDisplay(mkuDayDate),
          course: 'ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥',
          target: schools // é…åˆ—ã§å­¦æ ¡åã®ãƒªã‚¹ãƒˆã‚’æ¸¡ã™
        });
      }
    }
  });
}

// å¤ã®èª²å¤–æˆæ¥­ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æƒ…å ±ã‚’è¿½åŠ 
if (summerCourses && summerCourses.length > 0) {
  // å½“è©²å¹´åº¦ã®ã‚³ãƒ¼ã‚¹ã‹ã‚‰ã™ã¹ã¦ã®é–‹å‚¬æ—¥ã‚’æŠ½å‡º
  const allSummerDates: Date[] = [];
  const allSummerTargetGrades = new Set<string>();
  
  summerCourses.forEach((course) => {
    // å¹´åº¦ãƒã‚§ãƒƒã‚¯
    const courseYear = Array.isArray(course.year) ? course.year[0] : course.year;
    if (courseYear === yearCode) {
      // å¯¾è±¡å­¦å¹´ã‚’åé›†ï¼ˆã™ã¹ã¦ã®å¤ã®èª²å¤–æˆæ¥­è¬›åº§ã‹ã‚‰ï¼‰
      const targetGrades = Array.isArray(course.targetGrades) ? course.targetGrades : [course.targetGrades];
      targetGrades.forEach(grade => {
        if (grade) {
          allSummerTargetGrades.add(grade);
        }
      });
      
      // ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹å ´åˆã¯æ—¥ä»˜ã‚’æŠ½å‡ºã€atAnyTimeã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
      if (course.schedule && course.schedule.length > 0 && !course.atAnyTime) {
        course.schedule.forEach(scheduleItem => {
          if (scheduleItem.date) {
            const scheduleDate = parseDate(scheduleItem.date);
            if (scheduleDate) {
              allSummerDates.push(scheduleDate);
            }
          }
        });
      }
    }
  });
  
  // æ—¥ä»˜ã‚’ã‚½ãƒ¼ãƒˆã—ã¦æœ€æ—©ã¨æœ€é…ã‚’å–å¾—
  allSummerDates.sort((a, b) => a.getTime() - b.getTime());
  
  if (allSummerDates.length > 0) {
    const earliestDate = allSummerDates[0];
    const latestDate = allSummerDates[allSummerDates.length - 1];
    
    if (earliestDate && latestDate) {
      // é‡è¤‡ãªã—ã®å¯¾è±¡å­¦å¹´ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã€ã‚½ãƒ¼ãƒˆ
      const uniqueTargetGrades = Array.from(allSummerTargetGrades);
      const formattedGrades = formatTargetGrades(uniqueTargetGrades);
      // é…åˆ—å½¢å¼ã§å¯¾è±¡å­¦å¹´ã¨æ³¨è¨˜ã‚’åˆ†ã‘ã¦æ ¼ç´
      const targetDisplay = [...formattedGrades.sortedGrades, 'â€»å¸‚å¤–ã«ãŠä½ã¾ã„ã®æ–¹ã‚‚å‚åŠ å¯'];
      
      // æœ€æ—©æ—¥ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¿½åŠ 
      const earliestMonth = earliestDate.getUTCMonth() + 1;
      const earliestMonthIndex = scheduleData.findIndex(scheduleItem => scheduleItem.month === earliestMonth);
      if (earliestMonthIndex !== -1 && scheduleData[earliestMonthIndex]) {
        scheduleData[earliestMonthIndex].events.push({
          date: formatDateForDisplay(earliestDate),
          course: 'å¤ã®èª²å¤–æˆæ¥­ã€€ã‚¹ã‚¿ãƒ¼ãƒˆ',
          target: targetDisplay
        });
      }
      
      // æœ€é…æ—¥ãŒæœ€æ—©æ—¥ã¨ç•°ãªã‚‹å ´åˆã®ã¿è¿½åŠ 
      if (latestDate.getTime() !== earliestDate.getTime()) {
        const latestMonth = latestDate.getUTCMonth() + 1;
        const latestMonthIndex = scheduleData.findIndex(scheduleItem => scheduleItem.month === latestMonth);
        if (latestMonthIndex !== -1 && scheduleData[latestMonthIndex]) {
          scheduleData[latestMonthIndex].events.push({
            date: formatDateForDisplay(latestDate),
            course: 'å¤ã®èª²å¤–æˆæ¥­ã€€çµ‚äº†(æœ€çµ‚æ—¥)',
            target: targetDisplay
          });
        }
      }
      
    }
  }
}

// ãƒšãƒ¼ã‚¸æƒ…å ±
const pageTitle = 'å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«';
const pageDescription = `${currentYear}ã®ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã”ç¢ºèªã„ãŸã ã‘ã¾ã™ã€‚`;

// ãƒ‘ãƒ³ããšæƒ…å ±
const breadcrumbItems = [
  { label: 'ãƒ›ãƒ¼ãƒ ', href: '/' },
  { label: 'å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«', current: true }
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <main>
    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <HeroSection 
      title="å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"
      subtitle="Schedule"
      imageSrc="/images/backgrounds/img_bg-hero_schedule-01.webp"
      imageAlt="å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«"
    />

    <!-- ãƒ‘ãƒ³ããš -->
    <Breadcrumb items={breadcrumbItems} />

    <!-- å¹´é–“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« Section -->
    <section id="schedule" class="content-section">
      <div class="content-section__container">
        <ContentSectionHeader 
          englishTitle=""
          title={currentYear || 'ä»¤å’Œ7å¹´åº¦'}
          class="fade-up"
        />
        
        <!-- ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¬æ˜æ–‡ -->
        {globalSettings.scheduleDescription && (
          <div class="schedule-description fade-up fade-up--delay-1">
            <p>{globalSettings.scheduleDescription}</p>
          </div>
        )}
        
        <!-- ã“ã“ã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå…¥ã‚‹ -->
        <!-- ã‚¹ãƒãƒ›ç”¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ’ãƒ³ãƒˆ -->
        <div class="table-scroll-hint">
          ğŸ‘† ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ãã¾ã™
        </div>
        <div class="schedule-table-wrapper fade-up fade-up--delay-1">
          <table class="schedule-table">
            <thead>
              <tr>
                <th>æœˆ</th>
                <th>æ—¥(æ›œæ—¥)</th>
                <th>è¬›åº§</th>
                <th>
                  å¯¾è±¡
                  <span class="target-note">ï¼ˆ7,8,9å¹´ï¼šä¸­1,2,3ï¼‰</span>
                </th>
              </tr>
            </thead>
            <tbody>
              {scheduleData.map(monthData => {
                const hasEvents = monthData.events.length > 0;
                
                if (!hasEvents) {
                  // ç©ºã®è¡Œã«ã‚‚åŒã˜æœˆãƒ™ãƒ¼ã‚¹ã®èƒŒæ™¯è‰²ãƒ­ã‚¸ãƒƒã‚¯ã‚’é©ç”¨
                  let monthIndex;
                  if (monthData.month >= 4) {
                    monthIndex = monthData.month - 4;
                  } else {
                    monthIndex = monthData.month + 8;
                  }
                  const isEvenMonthIndex = monthIndex % 2 === 0;
                  const bgClass = isEvenMonthIndex ? 'month-even' : 'month-odd';
                  
                  return (
                    <tr key={monthData.month} class={`empty-row ${bgClass}`}>
                      <td class="month-cell">{monthData.month}æœˆ</td>
                      <td>-</td>
                      <td>-</td>
                      <td>-</td>
                    </tr>
                  );
                }

                // æ—¥ä»˜ã”ã¨ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
                const groupedByDate: GroupedEvent[] = [];
                monthData.events.forEach(event => {
                  const existingGroup = groupedByDate.find(group => group.date === event.date);
                  if (existingGroup) {
                    existingGroup.events.push({
                      course: event.course,
                      target: event.target
                    });
                  } else {
                    groupedByDate.push({
                      date: event.date,
                      events: [{
                        course: event.course,
                        target: event.target
                      }]
                    });
                  }
                });

                // æ—¥ä»˜é †ã«ã‚½ãƒ¼ãƒˆï¼ˆæ—¥ä»˜æ–‡å­—åˆ—ã‹ã‚‰æ—¥æ•°ã‚’æŠ½å‡ºã—ã¦ã‚½ãƒ¼ãƒˆï¼‰
                groupedByDate.sort((a, b) => {
                  const dayA = parseInt(a.date.match(/(\d+)æ—¥/)?.[1] || '0');
                  const dayB = parseInt(b.date.match(/(\d+)æ—¥/)?.[1] || '0');
                  return dayA - dayB;
                });

                // å…¨ã‚¤ãƒ™ãƒ³ãƒˆã®é…åˆ—ã‚’ä½œæˆï¼ˆå„æ—¥ä»˜ã®å„ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
                const allEvents: DisplayEvent[] = [];

                let totalEvents = 0;
                groupedByDate.forEach(group => {
                  totalEvents += group.events.length;
                });

                let eventIndex = 0;
                groupedByDate.forEach(group => {
                  group.events.forEach((event, eventInDateIndex) => {
                    allEvents.push({
                      date: group.date,
                      course: event.course,
                      target: event.target,
                      isFirstOfDate: eventInDateIndex === 0,
                      isFirstOfMonth: eventIndex === 0,
                      dateRowspan: group.events.length,
                      monthRowspan: totalEvents
                    });
                    eventIndex++;
                  });
                });

                // æœˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«åŸºã¥ã„ã¦èƒŒæ™¯è‰²ã‚¯ãƒ©ã‚¹ã‚’æ±ºå®š
                // å­¦å¹´åº¦é †: 4æœˆ=0, 5æœˆ=1, 6æœˆ=2, 7æœˆ=3, 8æœˆ=4, 9æœˆ=5, 10æœˆ=6, 11æœˆ=7, 12æœˆ=8, 1æœˆ=9, 2æœˆ=10, 3æœˆ=11
                let monthIndex;
                if (monthData.month >= 4) {
                  monthIndex = monthData.month - 4; // 4æœˆ=0, 5æœˆ=1, 6æœˆ=2, 7æœˆ=3, 8æœˆ=4...
                } else {
                  monthIndex = monthData.month + 8; // 1æœˆ=9, 2æœˆ=10, 3æœˆ=11
                }
                console.log(`æœˆ: ${monthData.month}, ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: ${monthIndex}, å¶æ•°: ${monthIndex % 2 === 0}`);
                const isEvenMonthIndex = monthIndex % 2 === 0;
                const bgClass = isEvenMonthIndex ? 'month-even' : 'month-odd';

                return allEvents.map((event, index) => (
                  <tr key={`${monthData.month}-${index}`} class={bgClass}>
                    {event.isFirstOfMonth && (
                      <td rowspan={event.monthRowspan} class="month-cell">{monthData.month}æœˆ</td>
                    )}
                    {event.isFirstOfDate && (
                      <td rowspan={event.dateRowspan} class="date-cell">{event.date}</td>
                    )}
                    <td>
                      <span class={`course-name course-name--${getCourseClass(event.course)}`}>
                        {event.course}
                      </span>
                    </td>
                    <td>
                      <div class="target-grades">
                        {Array.isArray(event.target) ? 
                          event.target.map((grade, gradeIndex) => {
                            // æ³¨è¨˜ï¼ˆâ€»ã§å§‹ã¾ã‚‹æ–‡å­—åˆ—ï¼‰ã¯ç‰¹åˆ¥ãªã‚¯ãƒ©ã‚¹ã‚’é©ç”¨
                            if (grade.startsWith('â€»')) {
                              return (
                                <div key={gradeIndex} class="participation-note">
                                  {grade}
                                </div>
                              );
                            }
                            return (
                              <span key={gradeIndex} class={`target-grade target-grade--${getGradeColorClass(grade)}`}>
                                {grade}
                              </span>
                            );
                          }) :
                          event.target.split('ãƒ»').map((grade, gradeIndex) => (
                            <span key={gradeIndex} class={`target-grade target-grade--${getGradeColorClass(grade.trim())}`}>
                              {grade.trim()}
                            </span>
                          ))
                        }
                      </div>
                    </td>
                  </tr>
                ));
              })}
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<script>
// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®Intersection Observer
document.addEventListener('DOMContentLoaded', function() {
  const observerOptions = {
    threshold: 0.1, // è¦ç´ ã®10%ãŒè¦‹ãˆãŸã‚‰ç™ºç«
    rootMargin: '0px 0px -50px 0px' // ä¸‹ã‹ã‚‰50pxä½™è£•ã‚’æŒãŸã›ã‚‹
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        // ä¸€åº¦è¡¨ç¤ºã•ã‚ŒãŸã‚‰ç›£è¦–ã‚’åœæ­¢ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼‰
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  // fade-upã‚¯ãƒ©ã‚¹ã‚’æŒã¤å…¨ã¦ã®è¦ç´ ã‚’ç›£è¦–å¯¾è±¡ã«è¿½åŠ 
  const fadeUpElements = document.querySelectorAll('.fade-up');
  fadeUpElements.forEach(element => {
    observer.observe(element);
  });

  // JavaScriptå‰Šé™¤ - ç´”ç²‹CSSã§åˆ¶å¾¡
});
</script>

<style lang="scss">
@import '../../styles/_index';

// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ’ãƒ³ãƒˆï¼ˆsmç”»é¢ä»¥ä¸‹ã®ã¿è¡¨ç¤ºï¼‰
.table-scroll-hint {
  display: block;
  text-align: left;
  color: $text-dark-gray;
  font-size: rem(16);
  font-weight: 600;
  margin-bottom: rem(8);
  animation: shakeHorizontal 1s ease-in-out infinite alternate;
  
  // smç”»é¢ä»¥ä¸‹ã®ã¿è¡¨ç¤º
  @include breakpoint-up(md) {
    display: none;
  }
}

// å·¦å³ã«æºã‚‰ã™ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
@keyframes shakeHorizontal {
  0% {
    transform: translateX(rem(-3));
  }
  100% {
    transform: translateX(rem(3));
  }
}

.content-section {
  padding: 0 0 rem(120);
  background: $background-primary;
  @include breakpoint-up(xl) {
    padding: 0 0 rem(160);
  }

  &__container {
    padding: 0 5%;
    overflow: hidden;
    @include breakpoint-up(xl) {
      padding: 0 rem(50);
    }
  }
}

.schedule-description {
  margin-top: rem(24);
  margin-bottom: rem(32);
  
  @include breakpoint-up(md) {
    margin-top: rem(32);
    margin-bottom: rem(40);
  }
  
  p {
    @include font-ja-s;
    color: $text-primary;
    line-height: 1.7;
    text-align: left;
    white-space: pre-line; // æ”¹è¡Œã‚’åæ˜ 
  }
}

.schedule-table-wrapper {
  position: relative;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch; // iOSç”¨ã®ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
}


.schedule-table {
  width: 100%;
  height: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: $background-primary;
  border-radius: rem(8);
  
  @include breakpoint-up(md) {
    table-layout: fixed; // mdä»¥é™ã¯å›ºå®šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  }
  
  th, td {
    text-align: left;
    border-bottom: 1px solid $border-secondary;
    border-right: 1px solid $border-secondary;
    vertical-align: top;
    
    &:last-child {
      border-right: none;
    }
  }
  
  th {
    padding: rem(12) rem(8);
    
    @include breakpoint-up(md) {
      padding: rem(16) rem(12);
    }
    
    @include breakpoint-up(lg) {
      padding: rem(16) rem(20);
    }
  }
  
  thead {
    border-left: 1px solid $border-secondary;
    border-right: 1px solid $border-secondary;
    border-top: 1px solid $border-secondary;
    border-top-left-radius: rem(8);
    border-top-right-radius: rem(8);
  }
  
  th {
    background: $brand-primary;
    color: $text-white;
    @include font-ja-2s(semibold);
    position: sticky;
    top: 0;
    z-index: 1;
    border-right: 1px solid $border-secondary;
    border-bottom: 1px solid $border-secondary;
    
    .target-note {
      @include font-ja-3s(semibold);
      opacity: 0.9;
      display: block;
      margin-top: rem(2);
      
      @include breakpoint-up(md) {
        display: inline;
        margin-top: 0;
        margin-left: rem(4);
      }
    }
    
    &:first-child {
      width: rem(60);
      min-width: rem(60);
      text-align: center;
      border-top-left-radius: rem(8);
      border-left: none;
      white-space: nowrap; // æ”¹è¡Œã‚’é˜²ã
      
      @include breakpoint-up(md) {
        width: 10%; // mdä»¥é™ã¯æ¯”ç‡ã§æŒ‡å®š
        min-width: auto;
      }
      
      @include breakpoint-up(xl) {
        width: 8%; // xlä»¥é™ã¯ã•ã‚‰ã«ç‹­ã
      }
    }
    
    &:nth-child(2) {
      width: rem(100);
      min-width: rem(100);
      text-align: center;
      white-space: nowrap; // æ”¹è¡Œã‚’é˜²ã
      
      @include breakpoint-up(md) {
        width: 15%; // mdä»¥é™ã¯æ¯”ç‡ã§æŒ‡å®š
        min-width: auto;
      }
      
      @include breakpoint-up(xl) {
        width: 12%; // xlä»¥é™ã¯ã•ã‚‰ã«ç‹­ã
      }
    }
    
    &:nth-child(3) {
      width: auto;
      min-width: rem(200);
      
      @include breakpoint-up(md) {
        width: 40%; // mdä»¥é™ã¯æ¯”ç‡ã§æŒ‡å®š
        min-width: auto;
      }
      
      @include breakpoint-up(xl) {
        width: 45%; // xlä»¥é™ã¯å°‘ã—åºƒã
      }
    }
    
    &:nth-child(4) {
      width: auto;
      min-width: rem(150);
      border-top-right-radius: rem(8);
      border-right: none;
      
      @include breakpoint-up(md) {
        width: 35%; // mdä»¥é™ã¯æ¯”ç‡ã§æŒ‡å®š
        min-width: auto;
      }
      
      @include breakpoint-up(xl) {
        width: 35%; // xlä»¥é™ã‚‚åŒã˜
      }
    }
  }
  
  tbody {
    tr {
      // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®èƒŒæ™¯è‰²ï¼ˆnth-childãƒ™ãƒ¼ã‚¹ï¼‰
      &:nth-child(odd) {
        background: $background-primary;
      }
      
      &:nth-child(even) {
        background: $background-secondary;
      }
      
      // æœˆãƒ™ãƒ¼ã‚¹ã®èƒŒæ™¯è‰²ï¼ˆrowspanå¯¾å¿œï¼‰
      &.month-even {
        background: $background-primary !important;
      }
      
      &.month-odd {
        background: $background-secondary !important;
      }
      
      // rowspanä½¿ç”¨æ™‚ã®èƒŒæ™¯è‰²ã‚’çµ±ä¸€
      td[rowspan] {
        background: inherit;
      }
      
      &:last-child {
        td {
          border-bottom: 1px solid $border-secondary;
          
          &:first-child {
            border-left: 1px solid $border-secondary;
            border-bottom-left-radius: rem(8);
          }
          
          &:last-child {
            border-right: 1px solid $border-secondary;
            border-bottom-right-radius: rem(8);
          }
        }
      }
      
      &:not(:last-child) {
        td {
          &:last-child {
            border-right: 1px solid $border-secondary;
          }
        }
      }
    }
  }
  
  td {
    line-height: 1.6;
    padding: rem(12) rem(8);
    
    @include breakpoint-up(md) {
      padding: rem(16) rem(12);
    }
    
    @include breakpoint-up(lg) {
      padding: rem(16) rem(20);
    }
    
    &:first-child {
      border-left: none;
    }
    
    &:last-child {
      border-right: none;
    }
    
    // æœˆåˆ—
    &:nth-child(1) {
      @include font-ja-s;
      color: $text-primary;
      text-align: center;
      white-space: nowrap; // æ”¹è¡Œã‚’é˜²ã
      width: rem(60);
      min-width: rem(60);
      
      @include breakpoint-up(md) {
        width: 10%; // mdä»¥é™ã¯æ¯”ç‡ã§æŒ‡å®š
        min-width: auto;
      }
      
      @include breakpoint-up(xl) {
        width: 8%; // xlä»¥é™ã¯ã•ã‚‰ã«ç‹­ã
      }
    }
    
    // æ—¥(æ›œæ—¥)åˆ—ï¼ˆå…¨ã¦ä¸­å¤®æƒãˆï¼‰
    &:nth-child(2) {
      @include font-ja-s;
      color: $text-primary;
      text-align: center;
      border-left: none !important; // å…¨ã¦ã®æ—¥ä»˜ã‚»ãƒ«ã§border-leftã‚’ç„¡åŠ¹
      white-space: nowrap; // æ”¹è¡Œã‚’é˜²ã
      width: rem(100);
      min-width: rem(100);
      
      @include breakpoint-up(md) {
        width: 15%; // mdä»¥é™ã¯æ¯”ç‡ã§æŒ‡å®š
        min-width: auto;
      }
      
      @include breakpoint-up(xl) {
        width: 12%; // xlä»¥é™ã¯ã•ã‚‰ã«ç‹­ã
      }
      
      // rowspanã‚ã‚Šã®æœ€åˆã®æ—¥ä»˜ã‚»ãƒ«ã¯åˆ¥é€”å‡¦ç†
      &[rowspan] {
        // å¿…è¦ã«å¿œã˜ã¦ã‚¹ã‚¿ã‚¤ãƒ«è¿½åŠ 
      }
    }
    
    // è¬›åº§åˆ—ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆ3åˆ—ç›®ã®ã¿ï¼‰
    &:nth-child(3) {
      text-align: left; // æ˜ç¤ºçš„ã«å·¦æƒãˆã‚’æŒ‡å®š
      word-wrap: break-word; // é•·ã„å˜èªã‚‚å¼·åˆ¶çš„ã«æŠ˜ã‚Šè¿”ã—
      word-break: break-all; // å¿…è¦ã«å¿œã˜ã¦æ–‡å­—ã®é€”ä¸­ã§ã‚‚æŠ˜ã‚Šè¿”ã—
      overflow-wrap: break-word; // ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ
      white-space: normal; // æ”¹è¡Œã‚’è¨±å¯
      max-width: 0; // table-layout: fixed ã¨ã®çµ„ã¿åˆã‚ã›ã§å¹…åˆ¶é™ã‚’å¼·åˆ¶
    }
  }
  
  // è¬›åº§åã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆã©ã®ä½ç½®ã«ã‚ã£ã¦ã‚‚é©ç”¨ï¼‰
  .course-name {
    @include font-ja-s(semibold);
    display: inline;
    padding: rem(1) rem(2);
    margin-bottom: rem(4);
    border-radius: rem(2);
    line-height: 1.6;
    text-align: left; // è¬›åº§åè‡ªä½“ã‚‚å·¦æƒãˆ
    box-decoration-break: clone; // æ”¹è¡Œæ™‚ã‚‚å„è¡Œã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨
    -webkit-box-decoration-break: clone; // Safariå¯¾å¿œ
    
    &--main-campus {
      background: linear-gradient(transparent 60%, $brand-sub-yellow-low 60%);
      box-decoration-break: clone;
      -webkit-box-decoration-break: clone;
    }
    
    &--special-course {
      background: linear-gradient(transparent 60%, $brand-sub-turquoise-low 60%);
      box-decoration-break: clone;
      -webkit-box-decoration-break: clone;
    }
    
    &--mku-day {
      background: linear-gradient(transparent 60%, $brand-sub-purple-low 60%);
      box-decoration-break: clone;
      -webkit-box-decoration-break: clone;
    }
    
    &--summer-course {
      background: linear-gradient(transparent 60%, $brand-sub-pink-low 60%);
      box-decoration-break: clone;
      -webkit-box-decoration-break: clone;
    }
  }
  
  // è¬›åº§åã‚’å«ã‚€ã‚»ãƒ«ã®å¼·åˆ¶å·¦æƒãˆ
  td:has(.course-name) {
    text-align: left !important;
    border-left: none !important;
    word-wrap: break-word !important; // é•·ã„å˜èªã‚‚å¼·åˆ¶çš„ã«æŠ˜ã‚Šè¿”ã—
    word-break: break-all !important; // å¿…è¦ã«å¿œã˜ã¦æ–‡å­—ã®é€”ä¸­ã§ã‚‚æŠ˜ã‚Šè¿”ã—
    overflow-wrap: break-word !important; // ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ
    white-space: normal !important; // æ”¹è¡Œã‚’è¨±å¯
  }
  
  // æœˆã‚»ãƒ«ã®ã¿ã«border-leftã‚’é©ç”¨ï¼ˆå¼·åˆ¶ï¼‰
  tbody tr td.month-cell {
    border-left: 1px solid $border-secondary !important;
  }
  
  // æ—¥ä»˜ã‚»ãƒ«ã¯border-leftãªã—
  .date-cell {
    border-left: none !important;
  }
  
  .course-detail {
    @include font-ja-s;
    color: $text-primary;
  }
  
  td {
    // ã‚»ãƒ«å†…ã®ãƒ†ã‚­ã‚¹ãƒˆã¯åŸºæœ¬çš„ã«å·¦æƒãˆï¼ˆä¸­å¤®æƒãˆã®æœˆãƒ»æ—¥åˆ—ã‚’é™¤ãï¼‰
    &:not(:nth-child(1)):not(:nth-child(2)) {
      text-align: left !important;
    }
    
    // è¬›åº§ã‚»ãƒ«ã‚’å¼·åˆ¶çš„ã«å·¦æƒãˆã«
    &:nth-child(3) {
      text-align: left !important;
      border-left: none !important;
      word-wrap: break-word !important; // é•·ã„å˜èªã‚‚å¼·åˆ¶çš„ã«æŠ˜ã‚Šè¿”ã—
      word-break: break-all !important; // å¿…è¦ã«å¿œã˜ã¦æ–‡å­—ã®é€”ä¸­ã§ã‚‚æŠ˜ã‚Šè¿”ã—
      overflow-wrap: break-word !important; // ãƒ¢ãƒ€ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ
      white-space: normal !important; // æ”¹è¡Œã‚’è¨±å¯
      max-width: 0 !important; // table-layout: fixed ã¨ã®çµ„ã¿åˆã‚ã›ã§å¹…åˆ¶é™ã‚’å¼·åˆ¶
    }
    
    // rowspanãªã—ã®2åˆ—ç›®ã‚»ãƒ«ã¯æ—¢ã«ä¸Šã§å®šç¾©æ¸ˆã¿ï¼ˆé‡è¤‡å‰Šé™¤ï¼‰
    
    // å…¨ã¦ã®érowspanã‚»ãƒ«ã®border-leftã‚’ç„¡åŠ¹åŒ–
    &:not([rowspan]) {
      border-left: none !important;
    }
    
    // å¯¾è±¡åˆ—ï¼ˆæœ€å¾Œã®åˆ—ã¾ãŸã¯4åˆ—ç›®ï¼‰
    &:nth-child(4), 
    &:last-child {
      .target-grades {
        display: flex;
        flex-wrap: wrap;
        gap: rem(6);
        
        .target-grade {
          @include font-ja-2s(semibold);
          padding: rem(4) rem(6);
          border: 1px solid $brand-black;
          border-radius: rem(10);
          white-space: nowrap;
          margin-bottom: rem(2);
          
          &--elementary-low {
            background-color: $brand-sub-yellow-low;
          }
          
          &--elementary-high {
            background-color: $brand-sub-purple-low;
          }
          
          &--junior {
            background-color: $brand-sub-turquoise-low;
          }
          
          &--special {
            background-color: $brand-sub-pink-low;
          }
          
          // ã‚€ãªã‹ãŸå­ã©ã‚‚å¤§å­¦ã®æ—¥ç”¨ï¼ˆå­¦æ ¡åè¡¨ç¤ºï¼‰
          &--mku-day {
            background-color: $background-primary;
            border: 1px solid $brand-black;
          }
        }
        
        // å¸‚å¤–å‚åŠ å¯ã®æ³¨è¨˜ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
        .participation-note {
          @include font-ja-2s(medium);
          margin-top: rem(4);
          width: 100%;
        }
      }
    }
  }
  
  tr:last-child td {
    border-bottom: none;
  }
  
  // ç©ºãƒ‡ãƒ¼ã‚¿è¡Œã®ã‚¹ã‚¿ã‚¤ãƒ«
  tr.empty-row td {
    color: $text-disabled;
    text-align: center;
    
    &:nth-child(1), &:nth-child(2) {
      color: $text-primary;
    }
    
    // ç©ºã®è¡Œã®æœˆã‚»ãƒ«ã«ã‚‚border-leftã‚’é©ç”¨
    &.month-cell {
      border-left: 1px solid $border-secondary !important;
    }
  }
}
</style>