---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HeroSection from "../../components/HeroSection.astro";
import Breadcrumb from "../../components/Breadcrumb.astro";
import ContentSectionHeader from "../../components/ContentSectionHeader.astro";
import { Image } from "astro:assets";

const breadcrumbItems = [
  { href: "/", label: "ホーム" },
  { href: "/about", label: "むなかた子ども大学について" },
  { label: "代表者メッセージ", current: true }
];
---

<BaseLayout title="代表者メッセージ" description="むなかた子ども大学の学長（伊豆美沙子市長）、副学長（猿樂隆司教育長）からの挨拶をご覧ください。子どもたちの未来への想いと、本物の学びへの取り組みについてお話しします。">
  <main>
    <HeroSection 
      title="代表者メッセージ"
      subtitle="Message"
      customBackgroundStyle="hero--message"
      showImage={false}
    />

    <Breadcrumb items={breadcrumbItems} />

    <!-- 学長挨拶 Section -->
    <section id="president" class="content-section president-section">
      <div class="content-section__container">
        <ContentSectionHeader 
          englishTitle="President Message"
          title="学長挨拶"
          class="fade-up"
        />
        
        <div class="message-content">
          <!-- President Message Box -->
          <div class="message-box fade-up">
            <div class="message-box__image">
              <Image 
                src="/images/content/img_about_message-01.webp" 
                alt="President" 
                width={494}
                height={659}
                format="webp"
                quality={85}
                loading="lazy"
              />
            </div>
            <div class="message-box__content">
              <div class="message-box__text-wrapper">
                <div class="message-box__president-info">
                  <p class="message-box__position">学長</p>
                  <p class="message-box__name">伊豆 美沙子</p>
                  <p class="message-box__role">(宗像市長)</p>
                </div>
                <p class="message-box__title">President</p>
                <p class="message-box__text">
                  <span class="message-box__summary-title">まちで育む体験</span>
                  むなかた子ども大学学長の伊豆美沙子です。<br><br>

                  宗像市は、平成２４年に制定した宗像市子ども基本条例を基本理念とし、「子どもの健やかな成長が保障されるまちづくり」を目指しさまざまな取組を行っております。<br><br>

                  その象徴的な取組として、令和３年度に『むなかた子ども大学』を開学いたしました。『むなかた子ども大学』では、子どもたちが普段の生活で感じている「知りたい」「やってみたい」と興味や関心をもっているテーマ、社会の変化に適応しその発展に寄与していく上で欠かせないテーマについて学びます。それぞれの講座では、専門家が講師をつとめ、専門分野（職業）に対する「想い」「楽しさ」「やりがい」「工夫」などを講義や体験活動を通して教授します。<br><br>

                  『むなかた子ども大学』の講座開設に際しては、多くの大学・企業・団体・地域住民のみなさま方にご尽力いただき、「本物から学ぶ」「本物を体験する」講座が可能となっております。協力大学・企業・団体のみなさま方に対し深く感謝申し上げるとともに、引き続き『むなかた子ども大学』へのご協力をお願い申し上げます。
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 副学長挨拶 Section -->
    <section id="vice-president" class="content-section vice-president-section">
      <div class="content-section__container">
        <ContentSectionHeader 
          englishTitle="Vice President Message"
          title="副学長挨拶"
          class="fade-up"
        />
        
        <div class="message-content">
          <!-- Vice President Message Box -->
          <div class="message-box message-box--reverse fade-up fade-up--delay-1">
            <div class="message-box__image">
              <Image 
                src="/images/content/img_about_message-02.webp" 
                alt="Vice President" 
                width={494}
                height={659}
                format="webp"
                quality={85}
                loading="lazy"
              />
            </div>
            <div class="message-box__content">
              <div class="message-box__text-wrapper">
                <div class="message-box__president-info">
                  <p class="message-box__position">副学長</p>
                  <p class="message-box__name">猿樂 隆司</p>
                  <p class="message-box__role">(宗像市教育委員長)</p>
                </div>
                <p class="message-box__title message-box__title--left">Vice President</p>
                <p class="message-box__text">
                  <span class="message-box__summary-title">「夢」や「志」を考えるきっかけとなる場</span>
                  むなかた子ども大学副学長の猿樂隆司です。<br><br>

                  『むなかた子ども大学』は、みなさんの生活を支え、様々なお仕事をなさっている方々からの協力をもらい、「本物から学ぶ」「本物を体験する」ことをとおして、可能性を広げたり新たな可能性を発見したりして、「夢」や「志」を考え、はっきりとしていく場です。<br><br>

                  そして、講座を提供してくださる企業・団体の皆様、学校の協力のおかげで、昨年度、「むなかた子ども大学」は日本一の賞を受賞することができ、全国から注目が集まっています。今年もたくさんの講座を工夫しながら開設していきます。<br><br>

                  みなさんには、興味や関心をもった講座に参加し、「この職業につきたい」や「もっと上手になりたい」また「この道を極めて、社会の役に立ちたい」という志を抱いてほしいと思います。みなさんの参加を心待ちにしています。
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 説明動画 Section -->
    <section id="explanation-video" class="content-section explanation-video-section">
      <div class="content-section__container">
        <ContentSectionHeader 
          englishTitle="Explanation Video"
          title="むなかた子ども大学<br>説明動画"
          customTitleWrapperStyle="explanation-video-title-wrapper"
          customIconStyle="explanation-video-icon"
          class="fade-up"
        />
        
        <div class="video-content">
          <!-- md未満時の順序: 動画 → ロゴ -->
          <!-- md以降の順序: ロゴ → 動画 -->
          <div class="video-content__video fade-up fade-up--delay-1">
            <div class="video-content__video-wrapper">
              <iframe
                src="https://www.youtube.com/embed/ToJWUGuK7Bg"
                title="むなかた子ども大学 説明動画"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
              </iframe>
            </div>
          </div>
          
          <div class="video-content__logo fade-up">
            <Image 
              src="/logos/logo-del_mku_vertical-color1.svg" 
              alt="むなかた子ども大学ロゴ" 
              width={400}
              height={600}
              format="svg"
              loading="lazy"
            />
          </div>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style lang="scss">
  @import "../../styles/index";

  .hero {
    position: relative;
    padding: rem(80) 0 rem(20);
    background: linear-gradient(to bottom, $background-secondary 0%, $background-primary 70%, $background-primary 100%);
    border-radius: 0 rem(120) 0 0;
    
    @include breakpoint-up(md) {
      padding: 0;
      border-radius: 0 rem(240) 0 0;
    }

    &::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background-color: $brand-primary;
      z-index: -1;
    }

    &__container {
      margin: 0 auto;
      padding: 0 0 0 5%;
      overflow: hidden;
      @include breakpoint-up(xl) {
        padding: 0 0 0 rem(50);
      }
    }

    &__content {
      position: relative;
      padding: rem(40) 0 0;

      @include breakpoint-up(md) {
        padding: 0;
        display: flex;
        align-items: stretch;
        gap: rem(60);
      }
    }

    &__text {
      @include breakpoint-up(md) {
        flex: 1;
        padding: rem(120) 0 0;
      }
      @include breakpoint-up(xl) {
        padding: rem(160) 0 0;
      }
    }

    &__title {
      @include font-ja-2l(semibold);
      font-weight: bold;
      color: $text-primary;
      margin: 0 0 rem(8) 0;
      line-height: 1.4;

      @include breakpoint-up(lg) {
        @include font-ja-3l(semibold);
        margin-bottom: rem(12);
      }
    }

    &__subtitle {
      @include font-en-s(semibold);
      color: $text-secondary;
      margin: 0 0 rem(30) 0;
      font-weight: 500;
      letter-spacing: 0.05em;

      @include breakpoint-up(lg) {
        @include font-en-m(semibold);
        margin-bottom: 0;
      }
    }

    &__image {
      display: none;
      
      @include breakpoint-up(md) {
        display: block;
        flex: 0 0 auto;
        width: 45%;
        min-height: rem(100);
        background: transparent;
      }
      @include breakpoint-up(xl) {
        max-width: rem(600);
        min-height: rem(400);
      }

      img {
        display: none;
      }
    }
  }

  .breadcrumb {
    padding: rem(20) 0;
    background: $background-primary;
    @include breakpoint-up(lg) {
      padding: rem(50) 0 rem(20);
    }

    &__container {
      margin: 0 auto;
      padding: 0 0 0 5%;
      @include breakpoint-up(xl) {
        padding: 0 0 0 rem(50);
      }
    }

    &__list {
      display: flex;
      align-items: center;
      gap: rem(8);
      list-style: none;
      margin: 0;
      padding: 0;
      @include font-ja-3s;
    }

    &__item {
      display: flex;
      align-items: center;

      &:not(:last-child)::after {
        content: '>';
        margin-left: rem(8);
        color: $text-secondary;
      }

      a {
        @include font-ja-3s(semibold);
        color: $text-link;
        text-decoration: underline;

        &:hover {
          color: $text-link-hover;
          text-decoration: underline;
        }
      }

      &[aria-current="page"] {
        @include font-ja-3s;
        color: $text-primary;
        font-weight: 500;
      }
    }
  }

  .content-section {
    padding: rem(80) 0 rem(120);
    background: $background-primary;
    @include breakpoint-up(xl) {
      padding: rem(90) 0 rem(160);
    }

    &:nth-child(even) {
      background: $background-secondary;
    }

    &__container {
      margin: 0 auto;
      padding: 0 5%;
      overflow: hidden;
      @include breakpoint-up(xl) {
        padding: 0 rem(50);
      }
    }

    &__header {
      position: relative;
      margin-bottom: rem(50);
      margin-right: -5%;
      overflow: hidden;
      @include breakpoint-up(xl) {
        margin-bottom: rem(70);
        margin-right: 0;
      }
    }

    &__english-title {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      @include font-en-2l(semibold);
      background: linear-gradient(90deg, rgba($background-accent, 0.3) 0%, rgba($background-accent, 0.7) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      opacity: 0.1;
      z-index: 1;
      pointer-events: none;
      white-space: nowrap;

      @include breakpoint-up(lg) {
        @include font-en-4l(semibold);
        top: rem(-10);
      }
    }

    &__title-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      gap: rem(8);
      z-index: 2;
      margin-top: rem(40);
      
      @include breakpoint-up(lg) {
        margin-top: rem(80);
      }
    }

    &__icon {
      width: rem(24);
      height: rem(24);
      flex-shrink: 0;
      margin-top: rem(2);

      @include breakpoint-up(lg) {
        width: rem(36);
        height: rem(36);
        margin-top: rem(4);
      }
    }

    &__title {
      @include font-ja-l(semibold);
      color: $text-primary;
      margin: 0;
      line-height: 1.4;

      @include breakpoint-up(lg) {
        @include font-ja-2l(semibold);
      }
    }
  }

  .president-section {
    background: linear-gradient(to bottom, $background-primary 0%, $background-secondary 100%) !important;
    padding-top: rem(20);
    padding-bottom: rem(60);
    @include breakpoint-up(lg) {
      padding-top: rem(60);
      padding-bottom: rem(80);
    }
    @include breakpoint-up(xl) {
      padding-bottom: rem(100);
    }
  }

  .vice-president-section {
    background: linear-gradient(to bottom, $background-secondary 0%, $background-primary 100%) !important;
    padding-bottom: rem(60);
    @include breakpoint-up(lg) {
      padding-bottom: rem(80);
    }
    @include breakpoint-up(xl) {
      padding-bottom: rem(100);
    }
  }

  .message-content {
    display: flex;
    flex-direction: column;
    gap: rem(60);
    @include breakpoint-up(md) {
      padding-top: rem(20);
    
    }
    @include breakpoint-up(lg) {
      gap: rem(80);
    }
  }

  .message-box {
    display: flex;
    flex-direction: column;
    
    @include breakpoint-up(md) {
      flex-direction: row;
      align-items: flex-end;
      gap: 0;
    }

    &__image {
      flex-shrink: 0;
      width: 94%;
      aspect-ratio: 0.75;
      align-self: flex-start;
      position: relative;
      
      @include breakpoint-up(md) {
        width: 56%;
        margin-left: calc(-5% - #{rem(20)});
        padding-bottom: rem(40);
        box-sizing: content-box;
      }
      
      @include breakpoint-up(xl) {
        margin-left: rem(-50);
      }
      
      img {
        width: 100%;
        height: auto;
        aspect-ratio: 0.75;
        object-fit: cover;
        border-radius: $radius-m;
        
        @include breakpoint-up(md) {
          border-radius: 0 $radius-m $radius-m 0;
        }
        
        @include breakpoint-up(lg) {
          border-radius: 0 $radius-l $radius-l 0;
        }
      }
      
      // Astro Image component compatibility
      :global(img) {
        width: 100%;
        height: auto;
        aspect-ratio: 0.75;
        object-fit: cover;
        border-radius: $radius-m;
        
        @include breakpoint-up(md) {
          border-radius: 0 $radius-m $radius-m 0;
        }
        
        @include breakpoint-up(lg) {
          border-radius: 0 $radius-l $radius-l 0;
        }
      }
      
      // 白いグラデーションオーバーレイ（右下が白く）
      &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          315deg,
          rgba(255, 255, 255, 0.8) 0%,
          transparent 60%
        );
        border-radius: $radius-m;
        pointer-events: none;
        
        @include breakpoint-up(md) {
          display: none;
        }
      }
    }

    &__content {
      flex: 1;
      width: 94%;
      align-self: flex-end;
      display: flex;
      flex-direction: column;
      
      @include breakpoint-up(md) {
        width: 49%;
        align-self: auto;
        margin-left: -7%;
      }
      @include breakpoint-up(xl) {
      max-width: rem(860);
    }
    }

    &__text-wrapper {
      position: relative;
      margin-top: rem(-210);
      @include breakpoint-up(md) {
        margin-top: 0;
      }
    }

    &__title {
      @include font-en-2l(semibold);
      color: $text-secondary;
      margin: 0;
      line-height: 1.2;
      z-index: 10;
      right: 0;
      text-align: right;
      
      @include breakpoint-up(lg) {
        @include font-en-2l(semibold);
        top: rem(-12);
      }
    }

    &__text {
      @include font-ja-s;
      background: $brand-primary;
      color: $text-white;
      padding: rem(20);
      border-radius: $radius-m 0 $radius-m $radius-m;
      margin-top: rem(-10);
      line-height: 1.7;
      
      @include breakpoint-up(lg) {
        padding: rem(30) rem(25) rem(50);
      }
      @include breakpoint-up(xl) {
        padding: rem(70) rem(50) rem(90);
      }
      @media (min-width: 1400px) {
        padding: rem(80) rem(60) rem(110);
      }
    }

    &__summary-title {
      @include font-ja-m(semibold);
      display: block;
      margin-bottom: rem(30);
      color: $text-white;
      
      @include breakpoint-up(lg) {
        @include font-ja-l(semibold);
        margin-bottom: rem(40);
      }
      @include breakpoint-up(xl) {
        margin-bottom: rem(50);
      }
    }

    &__president-info {
      width: fit-content;
      margin-left: auto;
      padding-right: 10%;
      
      @include breakpoint-up(md) {
        margin-bottom: rem(25);
        margin-right: auto;
        margin-left: 20%;
      }
    }

    &__position {
      @include font-ja-s(semibold);
      color: $text-white;
      
      @include breakpoint-up(md) {
        color: $text-primary;
      }
    }

    &__name {
      @include font-ja-m(semibold);
      color: $text-white;
      margin: 0 0 rem(4) 0;
      
      @include breakpoint-up(md) {
        color: $text-primary;
      }
      @include breakpoint-up(lg) {
        @include font-ja-l(semibold);
      }
    }

    &__role {
      @include font-ja-s(semibold);
      color: $text-white;
      margin: 0;
      text-align: right;
      
      @include breakpoint-up(md) {
        color: $text-primary;
      }
    }

    // Reverse layout for Vice President box
    &--reverse {
      @include breakpoint-up(md) {
        flex-direction: row-reverse;
      }
      
      .message-box__image {
        align-self: flex-end;
        
        @include breakpoint-up(md) {
          align-self: flex-start;
          margin-left: 0;
          margin-right: calc(-5% - #{rem(20)});
        }
        
        @include breakpoint-up(xl) {
          margin-right: rem(-50);
        }
        
        img,
        :global(img) {
          @include breakpoint-up(md) {
            border-radius: $radius-m 0 0 $radius-m;
          }
          
          @include breakpoint-up(lg) {
            border-radius: $radius-l 0 0 $radius-l;
          }
        }
      }
      
      .message-box__content {
        align-self: flex-start;
        
        @include breakpoint-up(md) {
          align-self: auto;
          margin-left: 0;
          margin-right: -7%;
        }
      }

      .message-box__president-info {
        margin-left: 0;
        margin-right: auto;
        padding-right: 0;
        padding-left: 10%;
        
        @include breakpoint-up(md) {
          margin-left: auto;
          margin-right: 20%;
          padding-left: 0;
        }
      }
      
      .message-box__text {
        border-radius: 0 $radius-m $radius-m $radius-m;
        
        @include breakpoint-up(lg) {
          border-radius: $radius-l;
        }
      }
      
      // Vice President画像のグラデーション（左下が白く）
      .message-box__image::after {
        @include breakpoint-down(sm) {
          background: linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.8) 0%,
            transparent 60%
          );
        }
        
        @include breakpoint-up(md) {
          display: none;
        }
      }
    }

    &__title--left {
      left: 0;
      text-align: left;
    }
  }

  .explanation-video-section {
    background: linear-gradient(to bottom, $background-primary 0%, $background-primary 70%, $background-secondary 70%, $background-secondary 100%);
    padding-top: rem(20);
    @include breakpoint-up(md) {
      background: linear-gradient(to bottom, $background-primary 0%, $background-primary 55%, $background-secondary 55%, $background-secondary 100%);
    }
    @include breakpoint-up(lg) {
      padding-top: rem(60);
      background: linear-gradient(to bottom, $background-primary 0%, $background-primary 60%, $background-secondary 60%, $background-secondary 100%);
    }
    @include breakpoint-up(xl) {
      background: linear-gradient(to bottom, $background-primary 0%, $background-primary 57%, $background-secondary 57%, $background-secondary 100%);
    }

  }

  .video-content {
    display: flex;
    flex-direction: column;
    gap: rem(40);
    align-items: center;
    
    @include breakpoint-up(md) {
      flex-direction: row;
      gap: rem(60);
      align-items: center;
    }
    
    @include breakpoint-up(lg) {
      gap: rem(80);
    }
    @include breakpoint-up(xl) {
      max-width: rem(1400);
      margin: 0 auto;
    }

    &__video {
      order: 1;
      width: 100%;
      max-width: rem(500);
      
      @include breakpoint-up(md) {
        order: 2;
        flex: 1;
        max-width: none;
      }
    }

    &__video-wrapper {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      overflow: hidden;
      border-radius: $radius-m;
      
      @include breakpoint-up(lg) {
        border-radius: $radius-l;
      }

      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
      }
    }

    &__logo {
      order: 2;
      width: 60%;
      
      @include breakpoint-up(md) {
        order: 1;  
        width: 35%;
        max-width: rem(400);
      }
      
      @include breakpoint-up(lg) {
        width: 30%;
        max-width: rem(500);
      }

      img,
      :global(img) {
        width: 100%;
        height: auto;
      }
    }
  }
</style>

<script>
// スクロールアニメーション用のIntersection Observer
document.addEventListener('DOMContentLoaded', function() {
  const observerOptions = {
    threshold: 0.1, // 要素の10%が見えたら発火
    rootMargin: '0px 0px -50px 0px' // 下から50px余裕を持たせる
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        // 一度表示されたら監視を停止（パフォーマンス向上）
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  // fade-upクラスを持つ全ての要素を監視対象に追加
  const fadeUpElements = document.querySelectorAll('.fade-up');
  fadeUpElements.forEach(element => {
    observer.observe(element);
  });
});
</script>